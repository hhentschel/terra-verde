{% extends '/_layouts/main' %}

{% block content %}
  <!-- Template: {{ _self }}.twig -->

  <section class="grid">

    <div class="row">
      <div class="col col-xs-12 col-md-12 col-lg-12">
        {% include '_components/breadcrumb.twig' %}
      </div>
    </div>
    <div class="row">
      <div class="col col-xs-12 col-md-12 col-lg-10 col-lg-shift-2">

        <div class="">
          <div class="">
            <div class="bg-cover bg-center bg-gray-300 h-64 rounded"></div>
          </div>
          <div class="">
            <h2 class="heading layout-helper__margin-top--s">
              {{ product.defaultVariant.title }}
            </h2>
            <h4 class="text-gray-500 mt-3">
              {{ product.articleDescription}}
            </h4>

            <h4 class="text-gray-500 mt-3">
              Varianten
            </h4>
            <form method="post" class="js-form">
              {{ actionInput('commerce/cart/update-cart') }}
              {{
                hiddenInput(
                  'successMessage',
                  ('Artikel ' ~ product.title ~ ' wurde zum Warenkorb hinzugef√ºgt.')|hash
                )
              }}
              {{ csrfInput() }}
              <div>
                {% for variant in product.variants %}
                  {{
                    hiddenInput('purchasables[' ~ loop.index ~ '][id]', variant.id)
                  }}
                  <div class="flex items-center justify-between w-full">
                    <div class="w-1/2">
                      <span class="italic">{{ variant.title }}</span>
                    </div>
                    <div class="pl-2 w-1/4">
                      <input class="{{ classes.input }} input w-full"
                        type="text"
                        name="purchasables[{{ loop.index }}][qty]"
                        value="0" />
                    </div>
                    <div class="pl-2 text-right w-1/4">
                      {% if variant.onSale %}
                        <del class="text-sm text-gray-500">
                          {{ variant.priceAsCurrency }}
                        </del><br />{{ variant.salePriceAsCurrency }}
                      {% else %}
                        {{ variant.priceAsCurrency }}
                      {% endif %}
                    </div>
                  </div>
                {% endfor %}
                <div class="">
                  <button type="submit"
                    class="button button--primary">
                    In den Warenkorb
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>

      </div>
    </div>
  </section>
{% endblock %}
